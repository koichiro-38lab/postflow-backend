spring.application.name=backend
server.servlet.context-path=/

# DevTools
spring.devtools.restart.enabled=true
spring.devtools.restart.poll-interval=2s
spring.devtools.restart.quiet-period=1s

# 監視対象を明示（srcを直接見る）
spring.devtools.restart.additional-paths=src/main/java,src/main/resources

# リモート開発を有効化
spring.devtools.remote.secret=mysecret
spring.devtools.livereload.enabled=true

# アップロードファイルサイズ制限
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB

# DB接続設定
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.flyway.driver-class-name=org.postgresql.Driver
spring.flyway.databaseType=postgresql

# JPA設定
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.properties.hibernate.format_sql=true

# Flyway設定
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# S3設定 (S3MediaStorageConfig: app.media.*)
app.media.bucket=${S3_BUCKET}
app.media.region=${AWS_REGION}
app.media.endpoint=${S3_ENDPOINT}
app.media.access-key=${S3_ACCESS_KEY}
app.media.secret-key=${S3_SECRET_KEY}
app.media.path-style-access=true

# JWT (JwtProperties: app.jwt.*)
app.jwt.secret=${JWT_SECRET}
# 秒で渡された環境変数を Duration として解釈させるため "s" を付与
app.jwt.access-ttl=${JWT_ACCESS_TTL:15m}
app.jwt.refresh-ttl=${JWT_REFRESH_TTL:7d}

# Debug logging
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG
