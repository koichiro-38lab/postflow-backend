### adminユーザーでログイン
# @name adminLogin
POST http://localhost:8100/api/auth/login
Content-Type: application/json

{
    "email": "admin@example.com",
    "password": "password123"
}

### ADMINユーザーのアクセストークンを変数にセット
@admin_token = {{adminLogin.response.body.accessToken}}

### 投稿一覧取得（ADMINユーザー）- 全ての投稿が表示される
GET http://localhost:8100/api/admin/posts
Authorization: Bearer {{admin_token}}

### 新規投稿作成（ADMINユーザー）- 誰の投稿でも作成可能
POST http://localhost:8100/api/admin/posts
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
    "title": "ADMINによる新規投稿テスト",
    "slug": "admin-test-post-800",
    "status": "DRAFT",
    "excerpt": "ADMINがテストで作成した投稿",
    "contentJson": "{\"blocks\":[{\"type\":\"paragraph\",\"data\":{\"text\":\"ADMINユーザーのテスト投稿本文\"}}]}",
    "authorId": 1, 
    "categoryId": null,
    "tagIds": []
}

### 特定の投稿を取得（ADMINユーザー）- どの投稿でも取得可能
GET http://localhost:8100/api/admin/posts/1
Authorization: Bearer {{admin_token}}

### 投稿の削除（ADMINユーザー）- どの投稿でも削除可能
DELETE http://localhost:8100/api/admin/posts/115
Authorization: Bearer {{admin_token}}

### メディアプリサインURL発行
# @name getPresignUrl
POST http://localhost:8100/api/admin/media/presign
Authorization: Bearer {{admin_token}}
Content-Type: application/json

{
    "filename": "sample.jpg",
    "mime": "image/jpeg",
    "bytes": 1105727
}

### レスポンスからアップロードURLを変数にセット
@uploadUrl = {{getPresignUrl.response.body.uploadUrl}}

### 取得したアップロードURLに対してPUTリクエストでファイルをアップロード
curl -X PUT "http://localhost/mock-upload/media/2025/09/06e5f7e4-3a60-48c1-8f57-c7efcd4bd89d.jpg" \
    -H "Content-Type: image/jpeg" \
    --data-binary "@./backend/http/images/sample.jpg"

### メディア一覧取得（ADMINユーザー）
# @name getMediaList

GET http://localhost:8100/api/admin/media
Authorization: Bearer {{admin_token}}


### タグ一覧取得（ADMINユーザー）
GET http://localhost:8100/api/admin/tags
Authorization: Bearer {{admin_token}}

### タグを作成（ADMINユーザー）
POST http://localhost:8100/api/admin/tags
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
    "name": "admin-test",
    "slug": "admin-test"
}

### タグを削除（ADMINユーザー）
# 注：このタグが投稿に紐づいている場合は削除できず、409エラーになります
DELETE http://localhost:8100/api/admin/tags/1
Authorization: Bearer {{admin_token}}

### カテゴリ一覧取得（ADMINユーザー）
GET http://localhost:8100/api/admin/categories
Authorization: Bearer {{admin_token}}

### カテゴリを作成（ADMINユーザー）
POST http://localhost:8100/api/admin/categories
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
    "name": "admin-test-category",
    "slug": "admin-test-category",
    "parentId": null
}

### 特定のIDのカテゴリを取得（ADMINユーザー）
GET http://localhost:8100/api/admin/categories/1
Authorization: Bearer {{admin_token}}

### カテゴリを更新（ADMINユーザー）
PUT http://localhost:8100/api/admin/categories/1
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
    "name": "updated-admin-category",
    "slug": "updated-admin-category",
    "parentId": null
}

### カテゴリを削除（ADMINユーザー）
# 注：このカテゴリが投稿に紐づいている場合は削除できず、409エラーになります
DELETE http://localhost:8100/api/admin/categories/1
Authorization: Bearer {{admin_token}}